<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Music.Time.Types</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Music-Time-Types.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Music-Time-Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">music-score-1.7.1: Musical score and part representation.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable (TF,GNTD)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>hans@hanshoglund.se</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Music.Time.Types</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Basic types
</a><ul><li><a href="#g:2">Time points
</a></li><li><a href="#g:3">Duration
</a></li><li><a href="#g:4">Convert between time and duration
</a></li></ul></li><li><a href="#g:5">Time spans
</a><ul><li><a href="#g:6">Creating spans
</a></li><li><a href="#g:7">Accessing spans
</a></li><li><a href="#g:8">Properties
</a></li><li><a href="#g:9">Transformations
</a></li><li><a href="#g:10">Delay and stretch component
</a></li><li><a href="#g:11">Points in spans
</a></li><li><a href="#g:12">Partial orders
</a></li><li><a href="#g:13">Read/Show
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Time">Time</a> </li><li class="src short"><a href="#v:toTime">toTime</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Time">Time</a></li><li class="src short"><a href="#v:fromTime">fromTime</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; a</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Duration">Duration</a> </li><li class="src short"><a href="#v:toDuration">toDuration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a></li><li class="src short"><a href="#v:fromDuration">fromDuration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; a</li><li class="src short"><a href="#v:offsetPoints">offsetPoints</a> :: AffineSpace a =&gt; a -&gt; [Diff a] -&gt; [a]</li><li class="src short"><a href="#v:toAbsoluteTime">toAbsoluteTime</a> :: [<a href="Music-Time-Types.html#t:Duration">Duration</a>] -&gt; [<a href="Music-Time-Types.html#t:Time">Time</a>]</li><li class="src short"><a href="#v:toRelativeTime">toRelativeTime</a> :: [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]</li><li class="src short"><a href="#v:toRelativeTimeN">toRelativeTimeN</a> :: [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]</li><li class="src short"><a href="#v:toRelativeTimeN-39-">toRelativeTimeN'</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Span">Span</a> </li><li class="src short"><a href="#v:-60--45--62-">(&lt;-&gt;)</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:-62--45--62-">(&gt;-&gt;)</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:-60--45--60-">(&lt;-&lt;)</a> :: <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:range">range</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Time">Time</a>, <a href="Music-Time-Types.html#t:Time">Time</a>)</li><li class="src short"><a href="#v:delta">delta</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Time">Time</a>, <a href="Music-Time-Types.html#t:Duration">Duration</a>)</li><li class="src short"><a href="#v:codelta">codelta</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Duration">Duration</a>, <a href="Music-Time-Types.html#t:Time">Time</a>)</li><li class="src short"><a href="#v:isForwardSpan">isForwardSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isBackwardSpan">isBackwardSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isEmptySpan">isEmptySpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:reverseSpan">reverseSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:reflectSpan">reflectSpan</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:normalizeSpan">normalizeSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a></li><li class="src short"><a href="#v:delayComponent">delayComponent</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a></li><li class="src short"><a href="#v:stretchComponent">stretchComponent</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a></li><li class="src short"><a href="#v:fixedOnsetSpan">fixedOnsetSpan</a> :: Prism' <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></li><li class="src short"><a href="#v:fixedDurationSpan">fixedDurationSpan</a> :: Prism' <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Types.html#t:Time">Time</a></li><li class="src short"><a href="#v:inside">inside</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isProper">isProper</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isBefore">isBefore</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:encloses">encloses</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:overlaps">overlaps</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:showRange">showRange</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:showDelta">showDelta</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:showCodelta">showCodelta</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></li></ul></div><div id="interface"><h1 id="g:1">Basic types
</h1><h2 id="g:2">Time points
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Time" class="def">Time</a>  <a href="src/Music-Time-Types.html#Time" class="link">Source</a></p><div class="doc"><p>Time points, representing duration since some known reference time, typically the start
 of the music. Note that time can be negative, representing values occuring before the
 reference time.
</p><p>Time forms an affine space with durations as the underlying vector space, that is, we
 can add a time to a duration to get a new time using <code>.+^</code>, take the difference of two
 times to get a duration using <code>.-.</code>. <code><a href="Music-Time-Types.html#t:Time">Time</a></code> forms an <code>AffineSpace</code> with <code><a href="Music-Time-Types.html#t:Duration">Duration</a></code> as
 difference space.
</p></div><div class="subs instances"><p id="control.i:Time" class="caption collapser" onclick="toggleSection('i:Time')">Instances</p><div id="section.i:Time" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Enum">Enum</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Num">Num</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:RealFrac">RealFrac</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Semigroup <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">VectorSpace <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AdditiveGroup <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AffineSpace <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Internal-Transform.html#t:Transformable">Transformable</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Duration.html#t:HasDuration">HasDuration</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Position.html#t:HasPosition">HasPosition</a> <a href="Music-Time-Types.html#t:Time">Time</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:toTime" class="def">toTime</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Time">Time</a><a href="src/Music-Time-Types.html#toTime" class="link">Source</a></p><div class="doc"><p>Convert a value to a duration.
</p></div></div><div class="top"><p class="src"><a name="v:fromTime" class="def">fromTime</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; a<a href="src/Music-Time-Types.html#fromTime" class="link">Source</a></p><div class="doc"><p>Convert a value to a duration.
</p></div></div><h2 id="g:3">Duration
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Duration" class="def">Duration</a>  <a href="src/Music-Time-Types.html#Duration" class="link">Source</a></p><div class="doc"><p>Duration, corresponding to note values in standard notation.
 The standard names can be used: <code>1/2</code> for half note <code>1/4</code> for a quarter note and so on.
</p><p>Duration is a one-dimensional <code>VectorSpace</code>, and is the associated vector space of time points.
 It is a also an <code>AdditiveGroup</code> (and hence also <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#t:Monoid">Monoid</a></code> and <code>Semigroup</code>) under addition.
</p><p><code><a href="Music-Time-Types.html#t:Duration">Duration</a></code> is invariant under translation so <code>delay</code> has no effect on it.
</p></div><div class="subs instances"><p id="control.i:Duration" class="caption collapser" onclick="toggleSection('i:Duration')">Instances</p><div id="section.i:Duration" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Enum">Enum</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Num">Num</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:RealFrac">RealFrac</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Semigroup <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">InnerSpace <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">VectorSpace <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AdditiveGroup <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Internal-Transform.html#t:Transformable">Transformable</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Duration.html#t:HasDuration">HasDuration</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Split.html#t:Splittable">Splittable</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Reverse.html#t:Reversible">Reversible</a> <a href="Music-Time-Types.html#t:Duration">Duration</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b) a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:toDuration" class="def">toDuration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Real">Real</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a><a href="src/Music-Time-Types.html#toDuration" class="link">Source</a></p><div class="doc"><p>Convert a value to a duration.
</p></div></div><div class="top"><p class="src"><a name="v:fromDuration" class="def">fromDuration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; a<a href="src/Music-Time-Types.html#fromDuration" class="link">Source</a></p><div class="doc"><p>Convert a value to a duration.
</p></div></div><h2 id="g:4">Convert between time and duration
</h2><div class="doc"><p>Note that you should use <code>.-.</code> and <code>.+^</code> to convert between time and
 duration. To refer to time zero (the beginning of the music), use
 <code>origin</code>.
</p></div><div class="top"><p class="src"><a name="v:offsetPoints" class="def">offsetPoints</a> :: AffineSpace a =&gt; a -&gt; [Diff a] -&gt; [a]<a href="src/Music-Time-Types.html#offsetPoints" class="link">Source</a></p><div class="doc"><pre>length (offsetPoints x xs) = length xs + 1</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>offsetPoints 0 [1,2,1]
</code></strong>[0,1,2,1]
</pre><pre>
 offsetPoints :: <code>AffineSpace</code> a =&gt; <code><a href="Music-Time-Types.html#t:Time">Time</a></code> -&gt; [<code><a href="Music-Time-Types.html#t:Duration">Duration</a></code>] -&gt; [<code><a href="Music-Time-Types.html#t:Time">Time</a></code>]
</pre></div></div><div class="top"><p class="src"><a name="v:toAbsoluteTime" class="def">toAbsoluteTime</a> :: [<a href="Music-Time-Types.html#t:Duration">Duration</a>] -&gt; [<a href="Music-Time-Types.html#t:Time">Time</a>]<a href="src/Music-Time-Types.html#toAbsoluteTime" class="link">Source</a></p><div class="doc"><p>Convert from delta (time to wait before this note)
</p></div></div><div class="top"><p class="src"><a name="v:toRelativeTime" class="def">toRelativeTime</a> :: [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]<a href="src/Music-Time-Types.html#toRelativeTime" class="link">Source</a></p><div class="doc"><p>Convert to delta (time to wait before this note)
</p></div></div><div class="top"><p class="src"><a name="v:toRelativeTimeN" class="def">toRelativeTimeN</a> :: [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]<a href="src/Music-Time-Types.html#toRelativeTimeN" class="link">Source</a></p><div class="doc"><p>Convert to delta (time to wait before next note)
</p></div></div><div class="top"><p class="src"><a name="v:toRelativeTimeN-39-" class="def">toRelativeTimeN'</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; [<a href="Music-Time-Types.html#t:Time">Time</a>] -&gt; [<a href="Music-Time-Types.html#t:Duration">Duration</a>]<a href="src/Music-Time-Types.html#toRelativeTimeN%27" class="link">Source</a></p><div class="doc"><p>Convert to delta (time to wait before next note)
</p></div></div><h1 id="g:5">Time spans
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Span" class="def">Span</a>  <a href="src/Music-Time-Types.html#Span" class="link">Source</a></p><div class="doc"><p>A <code><a href="Music-Time-Types.html#t:Span">Span</a></code> represents an onset and offset in time (or equivalently: an onset and a
 duration, <em>or</em> a duration and an offset, <em>or</em> a duration and a middle point).
</p><p>Pattern matching over span is possible (with <code>ViewPatterns</code>):
</p><pre>
 foo (<code>view</code> <code><a href="Music-Time-Types.html#v:range">range</a></code>   -&gt; (t1, t2)) = ...
 foo (<code>view</code> <code><a href="Music-Time-Types.html#v:delta">delta</a></code>   -&gt; (t1, d))  = ...
 foo (<code>view</code> <code><a href="Music-Time-Types.html#v:codelta">codelta</a></code> -&gt; (d,  t2)) = ...
</pre><p>Another way of looking at <code><a href="Music-Time-Types.html#t:Span">Span</a></code> is that it represents a time transformation where
 onset is translation and duration is scaling.
</p><p>TODO How to use with <code>transform</code>, <code>whilst</code> etc.
</p><pre>
 a <code><a href="Music-Time-Types.html#v:-60--45--62-">&lt;-&gt;</a></code> b = (a, b)^.<code>from</code> <code><a href="Music-Time-Types.html#v:range">range</a></code>
 a <code><a href="Music-Time-Types.html#v:-62--45--62-">&gt;-&gt;</a></code> b = (a, b)^.<code>from</code> <code><a href="Music-Time-Types.html#v:delta">delta</a></code>
 a <code><a href="Music-Time-Types.html#v:-60--45--60-">&lt;-&lt;</a></code> b = (a, b)^.<code>from</code> <code><a href="Music-Time-Types.html#v:codelta">codelta</a></code>
</pre></div><div class="subs instances"><p id="control.i:Span" class="caption collapser" onclick="toggleSection('i:Span')">Instances</p><div id="section.i:Span" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc"><p><code>&lt;&gt;</code> or <code>^+^</code> composes transformations, i.e. both time and duration is stretched,
 and then time is added.
</p></td></tr><tr><td class="src">ToJSON <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Semigroup <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc"><p><code>zeroV</code> or <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#v:mempty">mempty</a></code> represents the <em>unit interval</em> <code>0 &lt;-&gt; 1</code>, which also happens to
 be the identity transformation.
</p></td></tr><tr><td class="src">AdditiveGroup <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc"><p><code>negateV</code> returns the inverse of a given transformation.
</p></td></tr><tr><td class="src"><a href="Music-Time-Internal-Transform.html#t:Transformable">Transformable</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Duration.html#t:HasDuration">HasDuration</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Position.html#t:HasPosition">HasPosition</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Split.html#t:Splittable">Splittable</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Time-Reverse.html#t:Reversible">Reversible</a> <a href="Music-Time-Types.html#t:Span">Span</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">TraversableWithIndex <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Score.html#t:Score">Score</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FunctorWithIndex <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Score.html#t:Score">Score</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FoldableWithIndex <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Score.html#t:Score">Score</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h3 id="g:6">Creating spans
</h3><div class="top"><p class="src"><a name="v:-60--45--62-" class="def">(&lt;-&gt;)</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#%3C-%3E" class="link">Source</a></p><div class="doc"><p><code>t &lt;-&gt; u</code> represents the span between <code>t</code> and <code>u</code>.
</p></div></div><div class="top"><p class="src"><a name="v:-62--45--62-" class="def">(&gt;-&gt;)</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#%3E-%3E" class="link">Source</a></p><div class="doc"><p><code>t &gt;-&gt; d</code> represents the span between <code>t</code> and <code>t .+^ d</code>.
</p></div></div><div class="top"><p class="src"><a name="v:-60--45--60-" class="def">(&lt;-&lt;)</a> :: <a href="Music-Time-Types.html#t:Duration">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#%3C-%3C" class="link">Source</a></p><div class="doc"><p><code>d &lt;-&gt; t</code> represents the span between <code>t .-^ d</code> and <code>t</code>.
</p></div></div><h3 id="g:7">Accessing spans
</h3><div class="top"><p class="src"><a name="v:range" class="def">range</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Time">Time</a>, <a href="Music-Time-Types.html#t:Time">Time</a>)<a href="src/Music-Time-Types.html#range" class="link">Source</a></p><div class="doc"><p>View a span as pair of onset and offset.
</p></div></div><div class="top"><p class="src"><a name="v:delta" class="def">delta</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Time">Time</a>, <a href="Music-Time-Types.html#t:Duration">Duration</a>)<a href="src/Music-Time-Types.html#delta" class="link">Source</a></p><div class="doc"><p>View a span as a pair of onset and duration.
</p></div></div><div class="top"><p class="src"><a name="v:codelta" class="def">codelta</a> :: Iso' <a href="Music-Time-Types.html#t:Span">Span</a> (<a href="Music-Time-Types.html#t:Duration">Duration</a>, <a href="Music-Time-Types.html#t:Time">Time</a>)<a href="src/Music-Time-Types.html#codelta" class="link">Source</a></p><div class="doc"><p>View a span as a pair of duration and offset.
</p></div></div><h2 id="g:8">Properties
</h2><div class="doc"><p>A span is either <em>forward</em>, <em>backward</em> or <em>empty</em>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>any id [isForwardSpan x, isBackwardSpan x, isEmptySpan x]
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>all not [isForwardSpan x, isBackwardSpan x, isEmptySpan x]
</code></strong>False
</pre></div><div class="top"><p class="src"><a name="v:isForwardSpan" class="def">isForwardSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#isForwardSpan" class="link">Source</a></p><div class="doc"><p>Whether the given span has a positive duration, i.e. whether its <code>onset</code> is before its <code>offset</code>.
</p></div></div><div class="top"><p class="src"><a name="v:isBackwardSpan" class="def">isBackwardSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#isBackwardSpan" class="link">Source</a></p><div class="doc"><p>Whether the given span has a negative duration, i.e. whether its <code>offset</code> is before its <code>onset</code>.
</p></div></div><div class="top"><p class="src"><a name="v:isEmptySpan" class="def">isEmptySpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#isEmptySpan" class="link">Source</a></p><div class="doc"><p>Whether the given span is empty, i.e. whether its <code>onset</code> and <code>offset</code> are equivalent.
</p></div></div><h2 id="g:9">Transformations
</h2><div class="top"><p class="src"><a name="v:reverseSpan" class="def">reverseSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#reverseSpan" class="link">Source</a></p><div class="doc"><p>Reflect a span through its midpoint.
</p></div></div><div class="top"><p class="src"><a name="v:reflectSpan" class="def">reflectSpan</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#reflectSpan" class="link">Source</a></p><div class="doc"><p>Reflect a span through an arbitrary point.
</p></div></div><div class="top"><p class="src"><a name="v:normalizeSpan" class="def">normalizeSpan</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a><a href="src/Music-Time-Types.html#normalizeSpan" class="link">Source</a></p><div class="doc"><p>Normalize a span, i.e. reverse it if negative, and do nothing otherwise.
</p><pre>
 _duration s = _duration (normalizeSpan s)
 _midpoint s = _midpoint (normalizeSpan s)
</pre></div></div><h2 id="g:10">Delay and stretch component
</h2><div class="top"><p class="src"><a name="v:delayComponent" class="def">delayComponent</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Time">Time</a><a href="src/Music-Time-Types.html#delayComponent" class="link">Source</a></p><div class="doc"><p>Access the delay component in a span.
</p></div></div><div class="top"><p class="src"><a name="v:stretchComponent" class="def">stretchComponent</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Duration">Duration</a><a href="src/Music-Time-Types.html#stretchComponent" class="link">Source</a></p><div class="doc"><p>Access the stretch component in a span.
</p></div></div><div class="top"><p class="src"><a name="v:fixedOnsetSpan" class="def">fixedOnsetSpan</a> :: Prism' <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Types.html#t:Duration">Duration</a><a href="src/Music-Time-Types.html#fixedOnsetSpan" class="link">Source</a></p><div class="doc"><p>A prism to the subset of <code><a href="Music-Time-Types.html#t:Span">Span</a></code> that performs a stretch but no delay.
</p></div></div><div class="top"><p class="src"><a name="v:fixedDurationSpan" class="def">fixedDurationSpan</a> :: Prism' <a href="Music-Time-Types.html#t:Span">Span</a> <a href="Music-Time-Types.html#t:Time">Time</a><a href="src/Music-Time-Types.html#fixedDurationSpan" class="link">Source</a></p><div class="doc"><p>A prism to the subset of <code><a href="Music-Time-Types.html#t:Span">Span</a></code> that performs a delay but no stretch.
</p></div></div><h2 id="g:11">Points in spans
</h2><div class="top"><p class="src"><a name="v:inside" class="def">inside</a> :: <a href="Music-Time-Types.html#t:Time">Time</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#inside" class="link">Source</a></p><div class="doc"><p>Whether the given point falls inside the given span (inclusively).
</p><p>Designed to be used infix, for example
</p><pre>
 0.5 `<code><a href="Music-Time-Types.html#v:inside">inside</a></code>` (1 <code><a href="Music-Time-Types.html#v:-60--45--62-">&lt;-&gt;</a></code> 2)
</pre></div></div><h2 id="g:12">Partial orders
</h2><div class="top"><p class="src"><a name="v:isProper" class="def">isProper</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#isProper" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Music-Time-Types.html#v:isForwardSpan">isForwardSpan</a></code>
</p></div><p>Whether this is a proper span, i.e. whether <code><code>_onset</code> x <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#v:-60-">&lt;</a></code> <code>_offset</code> x</code>.
</p></div></div><div class="top"><p class="src"><a name="v:isBefore" class="def">isBefore</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#isBefore" class="link">Source</a></p><div class="doc"><p>Whether the first given span occurs before the second span.
</p></div></div><div class="top"><p class="src"><a name="v:encloses" class="def">encloses</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#encloses" class="link">Source</a></p><div class="doc"><p>Whether the first given span encloses the second span.
</p></div></div><div class="top"><p class="src"><a name="v:overlaps" class="def">overlaps</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Music-Time-Types.html#overlaps" class="link">Source</a></p><div class="doc"><p>Whether the given span overlaps.
</p></div></div><h2 id="g:13">Read/Show
</h2><div class="top"><p class="src"><a name="v:showRange" class="def">showRange</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a><a href="src/Music-Time-Types.html#showRange" class="link">Source</a></p><div class="doc"><p>Show a span in range notation, i.e. <code>t1 &lt;-&gt; t2</code>.
</p></div></div><div class="top"><p class="src"><a name="v:showDelta" class="def">showDelta</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a><a href="src/Music-Time-Types.html#showDelta" class="link">Source</a></p><div class="doc"><p>Show a span in delta notation, i.e. <code>t &gt;-&gt; d</code>.
</p></div></div><div class="top"><p class="src"><a name="v:showCodelta" class="def">showCodelta</a> :: <a href="Music-Time-Types.html#t:Span">Span</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a><a href="src/Music-Time-Types.html#showCodelta" class="link">Source</a></p><div class="doc"><p>Show a span in codelta notation, i.e. <code>t &lt;-&lt; d</code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>