<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Music.Score.Phrases</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Music-Score-Phrases.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Music-Score-Phrases.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">music-score-1.7: Musical score and part representation.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable (TF,GNTD)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>hans@hanshoglund.se</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Music.Score.Phrases</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">HasPhrases class
</a></li><li><a href="#g:2">Phrase types etc
</a><ul><li><a href="#g:3">Utility
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides phrase-wise traversal.
</p><p><em>Warning</em> This module is experimental.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span>  <a href="#t:HasPhrases">HasPhrases</a> s t a b | s -&gt; a, t -&gt; b, s b -&gt; t, t a -&gt; s <span class="keyword">where</span><ul class="subs"><li><a href="#v:mvoices">mvoices</a> :: Traversal s t (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b)</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:HasPhrases-39-">HasPhrases'</a> s a = <a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> s s a a</li><li class="src short"><a href="#v:phrases">phrases</a> :: <a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> s t a b =&gt; Traversal s t (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a) (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> b)</li><li class="src short"><a href="#v:phrases-39-">phrases'</a> :: <a href="Music-Score-Phrases.html#t:HasPhrases-39-">HasPhrases'</a> s a =&gt; Traversal' s (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Phrase">Phrase</a> a = <a href="Music-Time-Voice.html#t:Voice">Voice</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:MVoice">MVoice</a> a = <a href="Music-Time-Voice.html#t:Voice">Voice</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:PVoice">PVoice</a> a = [<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Either.html#t:Either">Either</a> <a href="Music-Time-Types.html#t:Duration">Duration</a> (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a)]</li><li class="src short"><a href="#v:mvoicePVoice">mvoicePVoice</a> ::  Lens (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b)</li><li class="src short"><a href="#v:unsafeMvoicePVoice">unsafeMvoicePVoice</a> ::  Iso (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b)</li><li class="src short"><a href="#v:singleMVoice">singleMVoice</a> ::  Prism (<a href="Music-Time-Score.html#t:Score">Score</a> a) (<a href="Music-Time-Score.html#t:Score">Score</a> b) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b)</li></ul></div><div id="interface"><h1 id="g:1">HasPhrases class
</h1><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:HasPhrases" class="def">HasPhrases</a> s t a b | s -&gt; a, t -&gt; b, s b -&gt; t, t a -&gt; s <span class="keyword">where</span><a href="src/Music-Score-Phrases.html#HasPhrases" class="link">Source</a></p><div class="doc"><p>Classes that provide a phrase traversal.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:mvoices" class="def">mvoices</a> :: Traversal s t (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b)<a href="src/Music-Score-Phrases.html#mvoices" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HasPhrases" class="caption collapser" onclick="toggleSection('i:HasPhrases')">Instances</p><div id="section.i:HasPhrases" class="show"><table><tr><td class="src">(<a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> a, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="Music-Score-Part.html#t:Part">Part</a> a)) =&gt; <a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> (<a href="Music-Time-Score.html#t:Score">Score</a> a) (<a href="Music-Time-Score.html#t:Score">Score</a> b) a b</td><td class="doc"><p>Traverses all phrases in each voice, using <code><a href="Music-Score-Part.html#v:extracted">extracted</a></code>.
</p></td></tr><tr><td class="src"><a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b) a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b) a b</td><td class="doc"><p>Traverses all phrases in a voice.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:HasPhrases-39-" class="def">HasPhrases'</a> s a = <a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> s s a a<a href="src/Music-Score-Phrases.html#HasPhrases%27" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:phrases" class="def">phrases</a> :: <a href="Music-Score-Phrases.html#t:HasPhrases">HasPhrases</a> s t a b =&gt; Traversal s t (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a) (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> b)<a href="src/Music-Score-Phrases.html#phrases" class="link">Source</a></p><div class="doc"><p>A generic phrase-traversal.
</p></div></div><div class="top"><p class="src"><a name="v:phrases-39-" class="def">phrases'</a> :: <a href="Music-Score-Phrases.html#t:HasPhrases-39-">HasPhrases'</a> s a =&gt; Traversal' s (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a)<a href="src/Music-Score-Phrases.html#phrases%27" class="link">Source</a></p><div class="doc"><p>A simple generic phrase-traversal.
</p></div></div><h1 id="g:2">Phrase types etc
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Phrase" class="def">Phrase</a> a = <a href="Music-Time-Voice.html#t:Voice">Voice</a> a<a href="src/Music-Score-Phrases.html#Phrase" class="link">Source</a></p><div class="doc"><p>For a phrase, we simply use a voice without rests.
</p><p>To represent a sequence of phrases we provide two equivalent representations:
</p><ul><li> <code><a href="Music-Score-Phrases.html#t:MVoice">MVoice</a></code> is a sequence of notes/chords or rests. All consecutive non-rests consitute a phrase.
</li><li> <code><a href="Music-Score-Phrases.html#t:PVoice">PVoice</a></code> is a sequence of phrases or durations.
</li></ul></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MVoice" class="def">MVoice</a> a = <a href="Music-Time-Voice.html#t:Voice">Voice</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> a)<a href="src/Music-Score-Phrases.html#MVoice" class="link">Source</a></p><div class="doc"><p>A sequence of phrases or rests, represented as notes or rests.
</p><p>Each consecutive sequence of non-rest elements is considered to be a phrase.
 For an explicit representation of the phrase structure, see <code><a href="Music-Score-Phrases.html#v:mvoicePVoice">mvoicePVoice</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:PVoice" class="def">PVoice</a> a = [<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Either.html#t:Either">Either</a> <a href="Music-Time-Types.html#t:Duration">Duration</a> (<a href="Music-Score-Phrases.html#t:Phrase">Phrase</a> a)]<a href="src/Music-Score-Phrases.html#PVoice" class="link">Source</a></p><div class="doc"><p>A sequence of phrases or rests, represented with explicit phrase structure.
</p></div></div><h2 id="g:3">Utility
</h2><div class="top"><p class="src"><a name="v:mvoicePVoice" class="def">mvoicePVoice</a> ::  Lens (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b)<a href="src/Music-Score-Phrases.html#mvoicePVoice" class="link">Source</a></p><div class="doc"><p>View an <code><a href="Music-Score-Phrases.html#t:MVoice">MVoice</a></code> as a <code><a href="Music-Score-Phrases.html#t:PVoice">PVoice</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:unsafeMvoicePVoice" class="def">unsafeMvoicePVoice</a> ::  Iso (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> a) (<a href="Music-Score-Phrases.html#t:PVoice">PVoice</a> b)<a href="src/Music-Score-Phrases.html#unsafeMvoicePVoice" class="link">Source</a></p><div class="doc"><p>View an <code><a href="Music-Score-Phrases.html#t:MVoice">MVoice</a></code> as a <code><a href="Music-Score-Phrases.html#t:PVoice">PVoice</a></code> and vice versa.
</p><p>This a valid <code>Iso</code> up to meta-data equivalence.
</p></div></div><div class="top"><p class="src"><a name="v:singleMVoice" class="def">singleMVoice</a> ::  Prism (<a href="Music-Time-Score.html#t:Score">Score</a> a) (<a href="Music-Time-Score.html#t:Score">Score</a> b) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> a) (<a href="Music-Score-Phrases.html#t:MVoice">MVoice</a> b)<a href="src/Music-Score-Phrases.html#singleMVoice" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>